# ğŸ“Š í”„ë¡œì íŠ¸ ìš”ì•½

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

**Morning Briefing v3**ëŠ” ë§¤ì¼ ì•„ì¹¨ 07:00 KSTì— ìë™ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ê°œì¸ ë§ì¶¤í˜• ëª¨ë‹ ë¸Œë¦¬í•‘ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

### í•µì‹¬ ê¸°ëŠ¥

1. **ìë™ ë°ì´í„° ìˆ˜ì§‘**
   - Google Calendar (ì˜¤ëŠ˜ + ë‚´ì¼ ì¼ì •)
   - ë‚ ì”¨ ì •ë³´ (OpenWeatherMap)
   - Google News RSS (íˆ¬ì/ê±°ì‹œ ì¤‘ì‹¬)
   - Gmail ë¯¸ì½ìŒ ë©”ì¼

2. **AI ê¸°ë°˜ ìš”ì•½**
   - OpenAI GPT-4o-minië¡œ ë‰´ìŠ¤ ìš”ì•½
   - íˆ¬ì/ê±°ì‹œ ì‹œí™© ì¤‘ì‹¬ í¬ë§·
   - ì´ë©”ì¼ ìš”ì•½ ë° ì•¡ì…˜ ì•„ì´í…œ ì •ë¦¬

3. **3ê°€ì§€ ì¶œë ¥ í˜•ì‹**
   - ğŸ“§ ì´ë©”ì¼ (HTML)
   - ğŸŒ ì›¹ í˜ì´ì§€ (today.html)
   - ğŸ§ ì˜¤ë””ì˜¤ íŒŒì¼ (today.mp3, 3~5ë¶„)

4. **ìë™ ë°°í¬**
   - GitHub Actions ë§¤ì¼ ì‹¤í–‰
   - GitHub Pages ì •ì  í˜¸ìŠ¤íŒ…
   - iPhone ë‹¨ì¶•ì–´ ìë™ ì¬ìƒ ì§€ì›

---

## ğŸ—ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **Runtime**: Node.js 20+
- **Language**: JavaScript (ES Modules)

### APIs & Services
- **Google APIs**
  - Calendar API (ì¼ì •)
  - Gmail API (ë©”ì¼)
- **OpenAI API**
  - GPT-4o-mini (í…ìŠ¤íŠ¸ ìš”ì•½)
  - TTS-1 (ìŒì„± í•©ì„±)
- **OpenWeatherMap API** (ë‚ ì”¨)
- **Google News RSS** (ë‰´ìŠ¤)

### Infrastructure
- **CI/CD**: GitHub Actions
- **Hosting**: GitHub Pages
- **Scheduling**: Cron (ë§¤ì¼ 07:00 KST)

### Libraries
- `googleapis` - Google API í´ë¼ì´ì–¸íŠ¸
- `openai` - OpenAI API í´ë¼ì´ì–¸íŠ¸
- `axios` - HTTP í´ë¼ì´ì–¸íŠ¸
- `rss-parser` - RSS íŒŒì‹±
- `luxon` - ë‚ ì§œ/ì‹œê°„ ì²˜ë¦¬
- `dotenv` - í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
morningbriefv3/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ morning-briefing.yml    # GitHub Actions ì›Œí¬í”Œë¡œìš°
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ auth/                       # ì¸ì¦
â”‚   â”‚   â”œâ”€â”€ googleOAuth.js         # Google OAuth2 í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â””â”€â”€ getRefreshToken.js     # Refresh Token ë°œê¸‰ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                   # ì™¸ë¶€ ì„œë¹„ìŠ¤ ì—°ë™
â”‚   â”‚   â”œâ”€â”€ calendar.js            # Google Calendar
â”‚   â”‚   â”œâ”€â”€ gmail.js               # Gmail
â”‚   â”‚   â”œâ”€â”€ news.js                # Google News RSS
â”‚   â”‚   â”œâ”€â”€ openai.js              # OpenAI ìš”ì•½
â”‚   â”‚   â”œâ”€â”€ tts.js                 # OpenAI TTS (ì˜¤ë””ì˜¤)
â”‚   â”‚   â””â”€â”€ weather.js             # ë‚ ì”¨
â”‚   â”‚
â”‚   â”œâ”€â”€ email/                      # ì´ë©”ì¼
â”‚   â”‚   â”œâ”€â”€ template.js            # HTML í…œí”Œë¦¿
â”‚   â”‚   â””â”€â”€ sender.js              # Gmail ë°œì†¡
â”‚   â”‚
â”‚   â”œâ”€â”€ output/                     # ì¶œë ¥ íŒŒì¼ ìƒì„±
â”‚   â”‚   â”œâ”€â”€ webTemplate.js         # ì›¹ HTML í…œí”Œë¦¿
â”‚   â”‚   â””â”€â”€ generator.js           # í†µí•© ìƒì„±ê¸°
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                      # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”œâ”€â”€ dateUtils.js           # ë‚ ì§œ/ì‹œê°„
â”‚   â”‚   â””â”€â”€ logger.js              # ë¡œê¹…
â”‚   â”‚
â”‚   â””â”€â”€ index.js                    # ë©”ì¸ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”‚
â”œâ”€â”€ scripts/                        # í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ test-audio.js              # ì˜¤ë””ì˜¤ ìƒì„± í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ test-web.js                # ì›¹ í˜ì´ì§€ ìƒì„± í…ŒìŠ¤íŠ¸
â”‚
â”œâ”€â”€ docs/                           # GitHub Pages ë°°í¬
â”‚   â”œâ”€â”€ index.html                 # ëœë”© í˜ì´ì§€
â”‚   â”œâ”€â”€ today.html                 # ì˜¤ëŠ˜ì˜ ë¸Œë¦¬í•‘ (ìë™ ìƒì„±)
â”‚   â”œâ”€â”€ today.mp3                  # ì˜¤ëŠ˜ì˜ ì˜¤ë””ì˜¤ (ìë™ ìƒì„±)
â”‚   â”œâ”€â”€ .nojekyll                  # Jekyll ë¹„í™œì„±í™”
â”‚   â””â”€â”€ archive/                   # ë‚ ì§œë³„ ì•„ì¹´ì´ë¸Œ
â”‚
â”œâ”€â”€ package.json                    # ì˜ì¡´ì„± ê´€ë¦¬
â”œâ”€â”€ .env.example                    # í™˜ê²½ ë³€ìˆ˜ ì˜ˆì‹œ
â”œâ”€â”€ .gitignore                      # Git ì œì™¸ íŒŒì¼
â”œâ”€â”€ README.md                       # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”œâ”€â”€ SETUP.md                        # ì´ˆê¸° ì„¤ì • ê°€ì´ë“œ
â”œâ”€â”€ CHANGELOG.md                    # ë³€ê²½ ì´ë ¥
â””â”€â”€ PROJECT_SUMMARY.md              # ì´ ë¬¸ì„œ
```

---

## ğŸ”„ ì‹¤í–‰ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub Actions Cron Trigger (07:00 KST)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. OAuth2 ì¸ì¦ (Google)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. ë°ì´í„° ìˆ˜ì§‘ (ë³‘ë ¬)                          â”‚
â”‚     â€¢ Google Calendar API                       â”‚
â”‚     â€¢ OpenWeatherMap API                        â”‚
â”‚     â€¢ Google News RSS                           â”‚
â”‚     â€¢ Gmail API                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. OpenAI ìš”ì•½ ìƒì„±                            â”‚
â”‚     â€¢ GPT-4o-mini (ë‰´ìŠ¤ ìš”ì•½)                   â”‚
â”‚     â€¢ GPT-4o-mini (ì´ë©”ì¼ ìš”ì•½)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. ì¶œë ¥ íŒŒì¼ ìƒì„±                              â”‚
â”‚     â€¢ today.html (ì›¹ í˜ì´ì§€)                    â”‚
â”‚     â€¢ today.mp3 (OpenAI TTS)                    â”‚
â”‚     â€¢ index.html (ëœë”© í˜ì´ì§€)                  â”‚
â”‚     â€¢ archive/YYYY/MM/DD.* (ì•„ì¹´ì´ë¸Œ)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. ì´ë©”ì¼ ë°œì†¡ (Gmail API)                     â”‚
â”‚     â€¢ HTML ì´ë©”ì¼                               â”‚
â”‚     â€¢ ì˜¤ë””ì˜¤/ì›¹ ë§í¬ í¬í•¨                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  6. GitHub Pages ë°°í¬                           â”‚
â”‚     â€¢ docs/ í´ë” ì»¤ë°‹ & í‘¸ì‹œ                    â”‚
â”‚     â€¢ ê³ ì • URLë¡œ ì ‘ê·¼ ê°€ëŠ¥                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” í™˜ê²½ ë³€ìˆ˜

### í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜

| ë³€ìˆ˜ëª… | ì„¤ëª… | ë°œê¸‰ ë°©ë²• |
|--------|------|-----------|
| `GOOGLE_CLIENT_ID` | Google OAuth2 í´ë¼ì´ì–¸íŠ¸ ID | [Google Cloud Console](https://console.cloud.google.com/apis/credentials) |
| `GOOGLE_CLIENT_SECRET` | Google OAuth2 í´ë¼ì´ì–¸íŠ¸ ì‹œí¬ë¦¿ | ìœ„ì™€ ë™ì¼ |
| `GOOGLE_REFRESH_TOKEN` | Google OAuth2 Refresh Token | `npm run get-token` ì‹¤í–‰ |
| `OPENAI_API_KEY` | OpenAI API í‚¤ | [OpenAI Platform](https://platform.openai.com/api-keys) |
| `WEATHER_API_KEY` | OpenWeatherMap API í‚¤ | [OpenWeatherMap](https://openweathermap.org/api) |
| `EMAIL_FROM` | ë°œì‹  ì´ë©”ì¼ ì£¼ì†Œ | Gmail ì£¼ì†Œ |
| `TO_EMAILS` | ìˆ˜ì‹  ì´ë©”ì¼ ì£¼ì†Œ | ìˆ˜ì‹ ì ì´ë©”ì¼ |
| `PAGES_URL` | GitHub Pages URL | `https://[username].github.io/morningbriefv3` |

---

## ğŸ’° ë¹„ìš© ì¶”ì •

### OpenAI API

| í•­ëª© | ì‚¬ìš©ëŸ‰ | ë‹¨ê°€ | ì¼ì¼ ë¹„ìš© | ì›” ë¹„ìš© |
|------|--------|------|-----------|---------|
| GPT-4o-mini (ìš”ì•½) | ~8,000 tokens | $0.15/1M tokens | $0.0012 | $0.036 |
| TTS-1 (ì˜¤ë””ì˜¤) | ~2,500 chars | $15/1M chars | $0.0375 | $1.125 |
| **í•©ê³„** | - | - | **$0.0387** | **$1.16** |

### ê¸°íƒ€ API

- **Google Calendar/Gmail API**: ë¬´ë£Œ (ê°œì¸ ì‚¬ìš©)
- **OpenWeatherMap API**: ë¬´ë£Œ (1,000 calls/day)
- **GitHub Actions**: ë¬´ë£Œ (Public ì €ì¥ì†Œ)
- **GitHub Pages**: ë¬´ë£Œ

### ì´ ì›” ë¹„ìš©: **~$1.20**

---

## ğŸ“Š ì„±ëŠ¥ ì§€í‘œ

### ì‹¤í–‰ ì‹œê°„

- **í‰ê·  ì‹¤í–‰ ì‹œê°„**: 45~60ì´ˆ
  - ë°ì´í„° ìˆ˜ì§‘: 10~15ì´ˆ
  - OpenAI ìš”ì•½: 15~20ì´ˆ
  - ì˜¤ë””ì˜¤ ìƒì„±: 10~15ì´ˆ
  - íŒŒì¼ ìƒì„± ë° ë°°í¬: 5~10ì´ˆ

### íŒŒì¼ í¬ê¸°

- **today.html**: ~50~100 KB
- **today.mp3**: ~3~5 MB
- **ì´ë©”ì¼ HTML**: ~30~50 KB

### API í˜¸ì¶œ íšŸìˆ˜ (ì¼ì¼)

- Google Calendar API: 1íšŒ
- Gmail API: 2íšŒ (ì½ê¸° + ë°œì†¡)
- OpenWeatherMap API: 1íšŒ
- OpenAI API: 3íšŒ (ë‰´ìŠ¤ ìš”ì•½ + ì´ë©”ì¼ ìš”ì•½ + TTS)
- Google News RSS: 5~10íšŒ

---

## ğŸš€ ë°°í¬ ë°©ë²•

### 1. ë¡œì»¬ í…ŒìŠ¤íŠ¸

```bash
# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ í¸ì§‘

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# Google Refresh Token ë°œê¸‰
npm run get-token

# ì „ì²´ ì‹¤í–‰ í…ŒìŠ¤íŠ¸
npm start

# ì˜¤ë””ì˜¤ë§Œ í…ŒìŠ¤íŠ¸
npm run test:audio

# ì›¹ í˜ì´ì§€ë§Œ í…ŒìŠ¤íŠ¸
npm run test:web
```

### 2. GitHub ë°°í¬

```bash
# GitHub ì €ì¥ì†Œ ìƒì„± í›„
git add .
git commit -m "Initial commit"
git push -u origin main

# GitHub Secrets ì„¤ì • (ì›¹ UIì—ì„œ)
# Settings â†’ Secrets and variables â†’ Actions

# GitHub Pages í™œì„±í™”
# Settings â†’ Pages â†’ Source: main/docs
```

### 3. ìë™ ì‹¤í–‰ í™•ì¸

- GitHub Actions íƒ­ì—ì„œ ì›Œí¬í”Œë¡œìš° í™•ì¸
- ìˆ˜ë™ ì‹¤í–‰: Run workflow ë²„íŠ¼ í´ë¦­
- ìë™ ì‹¤í–‰: ë‹¤ìŒ ë‚  07:00 KST

---

## ğŸ› ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œ

1. **OAuth2 ì—ëŸ¬**
   - Refresh Token ì¬ë°œê¸‰: `npm run get-token`
   - Google Cloud Consoleì—ì„œ API í™œì„±í™” í™•ì¸

2. **OpenAI API ì—ëŸ¬**
   - í¬ë ˆë”§ ì”ì•¡ í™•ì¸
   - API í‚¤ ìœ íš¨ì„± í™•ì¸

3. **GitHub Actions ì‹¤íŒ¨**
   - Secrets ì„¤ì • í™•ì¸
   - Workflow permissions í™•ì¸ (Read and write)

4. **ì˜¤ë””ì˜¤ ì¬ìƒ ì•ˆ ë¨**
   - GitHub Pages ë°°í¬ í™•ì¸
   - URL ì ‘ê·¼ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
   - iPhone ë‹¨ì¶•ì–´ ì„¤ì • í™•ì¸

---

## ğŸ“ˆ í–¥í›„ ê°œì„  ì‚¬í•­

### ë‹¨ê¸° (v3.1)
- ë‹¤êµ­ì–´ ì§€ì› (ì˜ì–´, ì¼ë³¸ì–´)
- ì»¤ìŠ¤í…€ ìŒì„± ì„ íƒ
- ì›¹ í˜ì´ì§€ ì•„ì¹´ì´ë¸Œ ëª©ë¡

### ì¤‘ê¸° (v3.2)
- ì£¼ì‹ ì‹œì„¸ í†µí•©
- í™˜ìœ¨/ì•”í˜¸í™”í ì •ë³´
- Slack/Discord ì•Œë¦¼

### ì¥ê¸° (v4.0)
- AI ê¸°ë°˜ ê°œì¸í™”
- ìŒì„± ëª…ë ¹ ì§€ì›
- ëª¨ë°”ì¼ ì•±

---

## ğŸ“ ì§€ì›

- **GitHub Issues**: [ë§í¬](https://github.com/your-username/morningbriefv3/issues)
- **ë¬¸ì„œ**: [README.md](./README.md), [SETUP.md](./SETUP.md)
- **ë³€ê²½ ì´ë ¥**: [CHANGELOG.md](./CHANGELOG.md)

---

**Last Updated**: 2026-02-12
