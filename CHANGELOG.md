# 변경 이력 (Changelog)

## [v3.1.0] - 2026-02-12

### ✨ 새로운 기능

- **Gmail 5줄 요약 기능**
  - 미읽음 메일을 5줄로 간결하게 요약
  - 가장 중요한 메일만 선별하여 표시
  - 기존 상세 요약과 선택 가능
  - 환경변수로 간편하게 전환 (`GMAIL_BRIEF_SUMMARY`)
  
- **Gmail 요약 테스트 스크립트**
  - `npm run test:email` 명령어 추가
  - 5줄 요약과 상세 요약을 동시에 확인 가능
  - 실시간 메일 목록 출력
  
### 🔧 개선사항

- **OpenAI 토큰 사용량 최적화**
  - 5줄 요약 시 토큰 사용량 75% 감소 (~500 tokens)
  - 비용 절감: $0.002 → $0.0005 per day
  
- **사용자 선택권 강화**
  - 두 가지 요약 방식 제공 (간결 / 상세)
  - Fallback 메커니즘 추가 (요약 실패 시 자동 전환)

### 📚 문서화

- **Gmail 요약 기능 가이드** (`docs/GMAIL_SUMMARY_GUIDE.md`)
  - 상세한 사용 가이드
  - API 사용량 및 비용 분석
  - 커스터마이징 예제
  - 시나리오별 사용법
  - FAQ 및 문제 해결
  
- **README.md 업데이트**
  - Gmail 요약 기능 설명 추가
  - 테스트 명령어 추가
  - 환경변수 설정 가이드

### 🧪 테스트

- `npm run test:email` - Gmail 요약 기능 테스트
  - 미읽음 메일 조회
  - 5줄 요약 생성
  - 상세 요약 생성
  - 통계 출력

---

## [v3.0.0] - 2026-02-12

### 🎉 Major Release - 오디오 브리핑 시스템 추가

#### ✨ 새로운 기능

- **오디오 브리핑 생성**
  - OpenAI TTS (Text-to-Speech) 통합
  - 3~5분 분량의 한국어 음성 브리핑
  - 자연스러운 뉴스 앵커 톤
  - 고정 URL (today.mp3)로 배포

- **웹용 HTML 페이지**
  - 독립 실행형 정적 페이지 (today.html)
  - 모바일 최적화 반응형 디자인
  - 오디오 플레이어 내장
  - 다크모드 지원

- **iPhone 단축어 자동 재생 지원**
  - 매일 07:02 KST 자동 실행
  - URL 직접 접근 가능
  - CORS 문제 없음

- **GitHub Pages 자동 배포**
  - GitHub Actions 워크플로우 완성
  - 매일 07:00 KST (22:00 UTC 전날) 자동 실행
  - 날짜별 아카이브 기능
  - 고정 URL 유지

#### 🔧 개선사항

- **이메일 템플릿**
  - 오디오 듣기 버튼 추가
  - 웹에서 보기 버튼 추가
  - 더 나은 모바일 UX

- **프로젝트 구조**
  - `src/services/tts.js` - OpenAI TTS 서비스
  - `src/output/` - 출력 파일 생성 디렉토리
  - `src/output/webTemplate.js` - 웹용 HTML 템플릿
  - `src/output/generator.js` - 통합 출력 생성기
  - `scripts/` - 테스트 스크립트 추가

- **에러 처리**
  - 오디오 생성 실패 시에도 이메일 정상 발송
  - 부분 실패 허용 (Graceful Degradation)
  - 상세한 로그 및 디버깅 정보

#### 📚 문서화

- **README.md** - 전체 시스템 가이드
- **SETUP.md** - 초기 설정 가이드
- **CHANGELOG.md** - 변경 이력
- iPhone 단축어 설정 가이드 추가

#### 🔐 보안

- 오디오 스크립트에서 민감 정보 제외
  - 일정 상세 메모 제외 (제목만 포함)
  - 이메일 전체 내용 제외 (요약만 포함)
- 로그에 텍스트 전문 출력 금지

#### 🧪 테스트

- `npm run test:audio` - 오디오 생성 테스트
- `npm run test:web` - 웹 페이지 생성 테스트

---

## [v2.0.0] - 이전 버전

### 주요 기능

- Google Calendar 일정 수집
- 날씨 정보 수집
- Google News RSS 뉴스 수집
- OpenAI 뉴스 요약 (투자/거시 중심)
- Gmail 미읽음 메일 요약
- HTML 이메일 발송
- GitHub Actions 자동 실행

---

## 향후 계획

### v3.1.0 (예정)

- [ ] 다국어 지원 (영어, 일본어)
- [ ] 커스텀 음성 선택 기능
- [ ] 오디오 속도 조절 기능
- [ ] 웹 페이지에 아카이브 목록 추가
- [ ] Slack/Discord 알림 통합

### v3.2.0 (예정)

- [ ] 주식 시세 통합 (Yahoo Finance API)
- [ ] 환율 정보 추가
- [ ] 암호화폐 시세 추가
- [ ] 커스터마이징 UI (설정 페이지)

### v4.0.0 (장기)

- [ ] AI 기반 개인화 추천
- [ ] 음성 명령 지원 (Siri Shortcuts)
- [ ] 모바일 앱 개발
- [ ] 프리미엄 기능 (고급 분석)

---

## 기여자

- **AI Assistant** - 시스템 설계 및 구현
- **Human** - 요구사항 정의 및 검증
